<html>
{% load static %}
<head>
	<link rel="stylesheet" href="{% static 'css/output.css' %}" />
</head>


<div class="h-screen bg-indigo-400 flex justify-center items-center">
	<div class="sm:w-4/5 lg:w-2/5  sm:text-6xl xl:text-xl xl:w-2/5">
		<form method="post"  action="{% url 'login' %}" class="group bg-white p-10 rounded-lg shadow-lg min-w-full" novalidate>
			<h1 class="text-center xl:text-3xl sm:text-7xl mb-6 text-indigo-600 font-bold font-sans">Login</h1>
			<div>
                {% csrf_token %}
				<div>
					<label class="text-gray-800 font-semibold block my-3 text-md" for="email">Email</label>
					<input class="w-full peer bg-gray-100 px-4 py-2 rounded-lg focus:outline-none border invalid:[&:not(:placeholder-shown):not(:focus)]:border-red-500" type="email" name="username" maxlength="30" minlength="1" id="email" placeholder="@email"   required />
					<span class="mt-2 hidden xl:text-sm sm:text-2xl text-red-500 peer-[&:not(:placeholder-shown):not(:focus):invalid]:block">
						Please enter a valid email address
					  </span>
				</div>

      
					<div>
						<label class="text-gray-800 font-semibold block my-3 text-md" for="password">Password</label>
						<input class=" w-full peer bg-gray-100 px-4 py-2 rounded-lg focus:outline-none invalid:[&:not(:placeholder-shown):not(:focus)]:border-red-500" type="password" minlength="1" name="password" id="password" placeholder="password" required/>
                        <span class="mt-2 hidden xl:text-sm sm:text-2xl text-red-500 peer-[&:not(:placeholder-shown):not(:focus):invalid]:block">
							Please enter a valid passwprd
						  </span>
					</div>

							<button type="submit" class="w-full mt-6  bg-indigo-600 rounded-lg px-4 py-2  text-white tracking-wide font-semibold font-sans group-invalid:pointer-events-none group-invalid:opacity-30">Login</button>
							<span class="sm:mt-5 xl:mt-1 sm:text-4xl xl:text-lg">Do you have an account? <a class="text-indigo-600" href="{% url 'register' %}"><b>Register</b></a> here!</span>		
							
		</form>
	</div>
	{% if form.errors %}
	<div class="error-messages">
		{% for field, errors in form.errors.items %}
			{% for error in errors %}
			<div class="error errorbar sm:text-3xl sm:p-4 xl:p-0 text-center bg-red-600 text-white xl:w-11/12  xl:h-14 sm:h-auto rounded-lg m-4 static flex flex-row justify-center">
				<p class=" sm:text-3xl xl:text-lg">{{ error }} </p>
				<button id="closebtn"><span class="material-symbols-outlined relative top-0 left-0">x</span></button>
			</div>
			<script defer>
				let closebtn = document.getElementById('closebtn')
				let errorbar = document.querySelector('.error-messages')
				closebtn.addEventListener('click', () => {
					errorbar.classList.add('hidden')
				})
			</script>
			{% endfor %}
		{% endfor %}
	</div>
	{% endif %}
</div>

</html>